在STM32中，有五个时钟源，为HSI、HSE、LSI、LSE、PLL。

HSI是高速内部时钟，RC振荡器，频率为8MHz。
HSE是高速外部时钟，可接石英/陶瓷谐振器，或者接外部时钟源，频率范围为4MHz~16MHz。
LSI是低速内部时钟，RC振荡器，频率为40kHz。
LSE是低速外部时钟，接频率为32.768kHz的石英晶体。
PLL为锁相环倍频输出，其时钟输入源可选择为HSI/2、HSE或者HSE/2。倍频可选择为2~16倍，但是其输出频率最大不得超过72MHz。

中断详解

中断处理的一般过程。

中断处理是由计算机的硬件和软件（或固件）配合起来完成的。中断的发生可以激活很多事件，包括硬件的和软件的。一个典型的处理过程如下：

①设备给处理机发送一个中断信号。

②处理机处理完当前指令后响应中断，这个延迟非常短。（要求处理机没有关闭中断）

③处理机处理完当前指令后检测到中断，判断出中断来源并向发送中断的设备发送确认中断信号，确认信号使得该设备将中断信号恢复到一般状态。

④处理机开始为软件处理中断做准备：保存中断点的程序执行上下文环境（中断处理后从中断点恢复被中断程序执行的必要信息），这通常包括程序状态字PSW，程序计数器PC中的下一条指令位置，一些寄存器的值，它们通常保存在系统控制栈中。处理机状态被切换到管态。

⑤处理机根据中断源查询中断向量表获得与该中断相联系的处理程序入口地址，并将PC置成该地址，处理机开始一个新的指令周期，结果是控制转移到中断处理程序。

⑥中断处理程序开始工作，其中包括检查与I/O相关的状态信息，操纵I/O设备或者在设备和内存之间传送数据等。

⑦中断处理结束时，处理机检测到中断返回指令，被中断程序的上下文环境从系统堆栈中被恢复，处理机状态恢复成原来的状态。

⑧PSW和PC被恢复成中断前的值，处理机开始一个新的指令周期，中断处理结束。

中断处理机制

硬件：产生中断标记，CPU根据标记得出中断号，系统根据中断号在中断向量表中查找中断地址。

软件：保存被打断的执行现场 ，根据中断地址去执行中断程序，清除中断标记，中断执行完后恢复到中断之前的地址继续运行。